Please analyze and improve this text segment to make it more suitable for training a tokenizer-free span-aware encoder.

Original text:
---
{{ text }}
---

{% if reason %}
Previous evaluation feedback:
{{ reason }}

Please address the specific issues mentioned above while improving the text.
{% endif %}

First, classify the content type:
- **Natural**: Prose, documentation, academic text, etc.
- **Code**: Programming code, markup, configuration files, etc.  
- **Mixed**: Combination of natural language and code elements

Then improve based on your classification:

**If Natural:**
- Fix grammar, punctuation, and sentence structure
- Ensure proper paragraph breaks and formatting
- Preserve original meaning and technical terminology

**If Code:**
- Ensure proper syntax and indentation
- Add consistent spacing and formatting
- Maintain functional correctness

**If Mixed:**
- Clearly separate code blocks from explanatory text
- Use proper markdown formatting (```code``` blocks)
- Ensure both code and text portions are well-formatted

**For all types:** Remove excessive whitespace, fix encoding issues, and ensure consistent formatting.

If the text is mostly corrupted or unreadable, respond with "DISCARD: [brief reason]"

**CRITICAL REQUIREMENT:** Your response must contain ONLY the classification and the improved text. Do NOT add any explanatory text, meta-commentary, analysis, notes, or descriptions about the improvements you made. The improved text should stand alone without any additional context or explanations.

Format your response as:
Classification: [Natural|Code|Mixed]
Improved Text:
[your improved version here - ONLY the improved text, no explanations or meta-commentary]

**IMPORTANT:** After writing "Improved Text:" provide ONLY the actual improved content. Do not add markdown separators (---), explanations, notes, or any text that describes what you changed. Just the clean, improved version of the original text.
